---
export interface HeroProps {
  title: string
  subtitle?: string
  description: string
  primaryCta: {
    text: string
    href: string
  }
  secondaryCta?: {
    text: string
    href: string
  }
  backgroundImage?: string
  backgroundVideo?: string
  theme?: 'default' | 'fantasy' | 'minimal' | 'dramatic'
  size?: 'default' | 'large' | 'compact'
}

import { Button } from '../ui/button'

const {
  title,
  subtitle,
  description,
  primaryCta,
  secondaryCta,
  backgroundImage,
  backgroundVideo,
  theme = 'default',
  size = 'default',
} = Astro.props as HeroProps

const themeClasses = {
  default: 'from-primary/10 to-background bg-gradient-to-b',
  fantasy: 'bg-gradient-to-br from-blue-50 via-orange-50 to-red-50 ',
  minimal: 'bg-background',
  dramatic:
    'bg-gradient-to-b from-slate-900 via-purple-900 to-slate-900 text-white',
}

const sizeClasses = {
  default: 'min-h-screen',
  large: 'min-h-[120vh]',
  compact: 'min-h-[80vh]',
}

const titleSizes = {
  default: 'text-4xl md:text-6xl lg:text-7xl',
  large: 'text-5xl md:text-7xl lg:text-8xl',
  compact: 'text-3xl md:text-5xl lg:text-6xl',
}
---

<section class={`relative overflow-hidden ${themeClasses[theme]}`}>
  {
    backgroundVideo && (
      <video
        class='absolute inset-0 h-full w-full object-cover opacity-20'
        autoplay
        muted
        loop
        playsinline
      >
        <source
          src={backgroundVideo}
          type='video/mp4'
        />
      </video>
    )
  }

  {
    backgroundImage && (
      <div
        class='absolute inset-0 bg-cover bg-center opacity-20'
        style={`background-image: url(${backgroundImage})`}
      />
    )
  }

  <div
    class={`relative container mx-auto flex ${sizeClasses[size]} flex-col items-center justify-center p-4 text-center`}
  >
    <div class='max-w-5xl space-y-8'>
      {
        subtitle && (
          <div class='bg-background/50 inline-flex items-center rounded-full border px-3 py-1 text-sm font-medium backdrop-blur-sm'>
            {subtitle}
          </div>
        )
      }

      <h1 class={`font-bold text-primary ${titleSizes[size]}`}>
        {title}
      </h1>

      <p
        class={`mx-auto max-w-4xl font-light text-foreground ${size === 'compact' ? 'text-lg md:text-xl' : 'text-xl md:text-2xl lg:text-3xl'}`}
      >
        {description}
      </p>

      <div class='flex flex-col items-center justify-center gap-4 sm:flex-row'>
        <Button
          variant='default'
          size='lg'
          className='px-8 py-6 text-lg shadow-lg transition-shadow hover:shadow-xl'
        >
          <a href={primaryCta.href}>{primaryCta.text}</a>
        </Button>

        {
          secondaryCta && (
            <Button
              variant='outline'
              size='lg'
              className='px-8 py-6 text-lg backdrop-blur-sm'
            >
              <a href={secondaryCta.href}>{secondaryCta.text}</a>
            </Button>
          )
        }
      </div>

      {
        theme === 'fantasy' && (
          <div class='text-muted-foreground flex items-center justify-center space-x-8 pt-8 text-sm'>
            <div class='flex items-center space-x-2'>
              <svg
                class='h-5 w-5 text-green-500'
                fill='currentColor'
                viewBox='0 0 20 20'
              >
                <path
                  fill-rule='evenodd'
                  d='M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z'
                  clip-rule='evenodd'
                />
              </svg>
              <span>Free to start</span>
            </div>
            <div class='flex items-center space-x-2'>
              <svg
                class='h-5 w-5 text-green-500'
                fill='currentColor'
                viewBox='0 0 20 20'
              >
                <path
                  fill-rule='evenodd'
                  d='M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z'
                  clip-rule='evenodd'
                />
              </svg>
              <span>No credit card required</span>
            </div>
            <div class='flex items-center space-x-2'>
              <svg
                class='h-5 w-5 text-green-500'
                fill='currentColor'
                viewBox='0 0 20 20'
              >
                <path
                  fill-rule='evenodd'
                  d='M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z'
                  clip-rule='evenodd'
                />
              </svg>
              <span>Setup in 5 minutes</span>
            </div>
          </div>
        )
      }
    </div>
  </div>
</section>
